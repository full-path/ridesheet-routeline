var myD3Bundle=function(t){"use strict";function n(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function e(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function r(){}var i=.7,o=1/i,a="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l=/^#([0-9a-f]{3,8})$/,c=new RegExp(`^rgb\\(${a},${a},${a}\\)$`),f=new RegExp(`^rgb\\(${s},${s},${s}\\)$`),h=new RegExp(`^rgba\\(${a},${a},${a},${u}\\)$`),p=new RegExp(`^rgba\\(${s},${s},${s},${u}\\)$`),_=new RegExp(`^hsl\\(${u},${s},${s}\\)$`),d=new RegExp(`^hsla\\(${u},${s},${s},${u}\\)$`),R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function C(){return this.rgb().formatHex()}function y(){return this.rgb().formatRgb()}function E(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=l.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?v(n):3===e?new N(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?g(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?g(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=c.exec(t))?new N(n[1],n[2],n[3],1):(n=f.exec(t))?new N(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=h.exec(t))?g(n[1],n[2],n[3],n[4]):(n=p.exec(t))?g(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_.exec(t))?A(n[1],n[2]/100,n[3]/100,1):(n=d.exec(t))?A(n[1],n[2]/100,n[3]/100,n[4]):R.hasOwnProperty(t)?v(R[t]):"transparent"===t?new N(NaN,NaN,NaN,0):null}function v(t){return new N(t>>16&255,t>>8&255,255&t,1)}function g(t,n,e,r){return r<=0&&(t=n=e=NaN),new N(t,n,e,r)}function m(t,n,e,i){return 1===arguments.length?((o=t)instanceof r||(o=E(o)),o?new N((o=o.rgb()).r,o.g,o.b,o.opacity):new N):new N(t,n,e,null==i?1:i);var o}function N(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function w(){return`#${b(this.r)}${b(this.g)}${b(this.b)}`}function Y(){const t=U(this.opacity);return`${1===t?"rgb(":"rgba("}${T(this.r)}, ${T(this.g)}, ${T(this.b)}${1===t?")":`, ${t})`}`}function U(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function T(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function b(t){return((t=T(t))<16?"0":"")+t.toString(16)}function A(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new I(t,n,e,r)}function O(t){if(t instanceof I)return new I(t.h,t.s,t.l,t.opacity);if(t instanceof r||(t=E(t)),!t)return new I;if(t instanceof I)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,o=Math.min(n,e,i),a=Math.max(n,e,i),u=NaN,s=a-o,l=(a+o)/2;return s?(u=n===a?(e-i)/s+6*(e<i):e===a?(i-n)/s+2:(n-e)/s+4,s/=l<.5?a+o:2-a-o,u*=60):s=l>0&&l<1?0:u,new I(u,s,l,t.opacity)}function I(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function x(t){return(t=(t||0)%360)<0?t+360:t}function D(t){return Math.max(0,Math.min(1,t||0))}function M(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}n(r,E,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C,formatHex:C,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return O(this).formatHsl()},formatRgb:y,toString:y}),n(N,m,e(r,{brighter(t){return t=null==t?o:Math.pow(o,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?i:Math.pow(i,t),new N(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new N(T(this.r),T(this.g),T(this.b),U(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:w,formatHex:w,formatHex8:function(){return`#${b(this.r)}${b(this.g)}${b(this.b)}${b(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Y,toString:Y})),n(I,(function(t,n,e,r){return 1===arguments.length?O(t):new I(t,n,e,null==r?1:r)}),e(r,{brighter(t){return t=null==t?o:Math.pow(o,t),new I(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?i:Math.pow(i,t),new I(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new N(M(t>=240?t-240:t+120,i,r),M(t,i,r),M(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new I(x(this.h),D(this.s),D(this.l),U(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=U(this.opacity);return`${1===t?"hsl(":"hsla("}${x(this.h)}, ${100*D(this.s)}%, ${100*D(this.l)}%${1===t?")":`, ${t})`}`}}));var S={value:()=>{}};function L(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new k(r)}function k(t){this._=t}function P(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function H(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=S,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}k.prototype=L.prototype={constructor:k,on:function(t,n){var e,r=this._,i=function(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=H(r[e],t.name,n);else if(null==n)for(e in r)r[e]=H(r[e],t.name,null);return this}for(;++o<a;)if((e=(t=i[o]).type)&&(e=P(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new k(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var $="http://www.w3.org/1999/xhtml",B={svg:"http://www.w3.org/2000/svg",xhtml:$,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function F(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),B.hasOwnProperty(n)?{space:B[n],local:t}:t}function K(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===$&&n.documentElement.namespaceURI===$?n.createElement(t):n.createElementNS(e,t)}}function X(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function q(t){var n=F(t);return(n.local?X:K)(n)}function G(){}function j(t){return null==t?G:function(){return this.querySelector(t)}}function V(){return[]}function W(t){return null==t?V:function(){return this.querySelectorAll(t)}}function Z(t){return function(){return null==(n=t.apply(this,arguments))?[]:Array.isArray(n)?n:Array.from(n);var n}}function z(t){return function(){return this.matches(t)}}function J(t){return function(n){return n.matches(t)}}var Q=Array.prototype.find;function tt(){return this.firstElementChild}var nt=Array.prototype.filter;function et(){return Array.from(this.children)}function rt(t){return new Array(t.length)}function it(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function ot(t,n,e,r,i,o){for(var a,u=0,s=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new it(t,o[u]);for(;u<s;++u)(a=n[u])&&(i[u]=a)}function at(t,n,e,r,i,o,a){var u,s,l,c=new Map,f=n.length,h=o.length,p=new Array(f);for(u=0;u<f;++u)(s=n[u])&&(p[u]=l=a.call(s,s.__data__,u,n)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=a.call(t,o[u],u,o)+"",(s=c.get(l))?(r[u]=s,s.__data__=o[u],c.delete(l)):e[u]=new it(t,o[u]);for(u=0;u<f;++u)(s=n[u])&&c.get(p[u])===s&&(i[u]=s)}function ut(t){return t.__data__}function st(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function lt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ct(t){return function(){this.removeAttribute(t)}}function ft(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ht(t,n){return function(){this.setAttribute(t,n)}}function pt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function _t(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function dt(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Rt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ct(t){return function(){this.style.removeProperty(t)}}function yt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Et(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function vt(t,n){return t.style.getPropertyValue(n)||Rt(t).getComputedStyle(t,null).getPropertyValue(n)}function gt(t){return function(){delete this[t]}}function mt(t,n){return function(){this[t]=n}}function Nt(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function wt(t){return t.trim().split(/^|\s+/)}function Yt(t){return t.classList||new Ut(t)}function Ut(t){this._node=t,this._names=wt(t.getAttribute("class")||"")}function Tt(t,n){for(var e=Yt(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function bt(t,n){for(var e=Yt(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function At(t){return function(){Tt(this,t)}}function Ot(t){return function(){bt(this,t)}}function It(t,n){return function(){(n.apply(this,arguments)?Tt:bt)(this,t)}}function xt(){this.textContent=""}function Dt(t){return function(){this.textContent=t}}function Mt(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function St(){this.innerHTML=""}function Lt(t){return function(){this.innerHTML=t}}function kt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Pt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ht(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $t(){return null}function Bt(){var t=this.parentNode;t&&t.removeChild(this)}function Ft(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Kt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Xt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function qt(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Gt(t,n,e){var r=Rt(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function jt(t,n){return function(){return Gt(this,t,n)}}function Vt(t,n){return function(){return Gt(this,t,n.apply(this,arguments))}}it.prototype={constructor:it,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ut.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Wt=[null];function Zt(t,n){this._groups=t,this._parents=n}function zt(){return new Zt([[document.documentElement]],Wt)}Zt.prototype=zt.prototype={constructor:Zt,select:function(t){"function"!=typeof t&&(t=j(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Zt(r,this._parents)},selectAll:function(t){t="function"==typeof t?Z(t):W(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,u=n[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Zt(r,i)},selectChild:function(t){return this.select(null==t?tt:function(t){return function(){return Q.call(this.children,t)}}("function"==typeof t?t:J(t)))},selectChildren:function(t){return this.selectAll(null==t?et:function(t){return function(){return nt.call(this.children,t)}}("function"==typeof t?t:J(t)))},filter:function(t){"function"!=typeof t&&(t=z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Zt(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,ut);var e,r=n?at:ot,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],p=h.length,_=st(t.call(f,f&&f.__data__,c,i)),d=_.length,R=s[c]=new Array(d),C=u[c]=new Array(d);r(f,h,R,C,l[c]=new Array(p),_,n);for(var y,E,v=0,g=0;v<d;++v)if(y=R[v]){for(v>=g&&(g=v+1);!(E=C[g])&&++g<d;);y._next=E||null}}return(u=new Zt(u,i))._enter=s,u._exit=l,u},enter:function(){return new Zt(this._enter||this._groups.map(rt),this._parents)},exit:function(){return new Zt(this._exit||this._groups.map(rt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=n&&(i=n(i))&&(i=i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),u=new Array(i),s=0;s<a;++s)for(var l,c=e[s],f=r[s],h=c.length,p=u[s]=new Array(h),_=0;_<h;++_)(l=c[_]||f[_])&&(p[_]=l);for(;s<i;++s)u[s]=e[s];return new Zt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=lt);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,u=e[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(n)}return new Zt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=F(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?ft:ct:"function"==typeof n?e.local?dt:_t:e.local?pt:ht)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?Ct:"function"==typeof n?Et:yt)(t,n,null==e?"":e)):vt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?gt:"function"==typeof n?Nt:mt)(t,n)):this.node()[t]},classed:function(t,n){var e=wt(t+"");if(arguments.length<2){for(var r=Yt(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?It:n?At:Ot)(e,n))},text:function(t){return arguments.length?this.each(null==t?xt:("function"==typeof t?Mt:Dt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?St:("function"==typeof t?kt:Lt)(t)):this.node().innerHTML},raise:function(){return this.each(Pt)},lower:function(){return this.each(Ht)},append:function(t){var n="function"==typeof t?t:q(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:q(t),r=null==n?$t:"function"==typeof n?n:j(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Bt)},clone:function(t){return this.select(t?Kt:Ft)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=n?qt:Xt,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,n){return this.each(("function"==typeof n?Vt:jt)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var Jt=t=>()=>t;function Qt(t){return 1==(t=+t)?tn:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Jt(isNaN(n)?e:n)}}function tn(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Jt(isNaN(t)?n:t)}var nn=function t(n){var e=Qt(n);function r(t,n){var r=e((t=m(t)).r,(n=m(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=tn(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function en(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,on=new RegExp(rn.source,"g");function an(t,n){var e,r,i,o=rn.lastIndex=on.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=rn.exec(t))&&(r=on.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:en(e,r)})),o=on.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}var un,sn=180/Math.PI,ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function cn(t,n,e,r,i,o){var a,u,s;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(s=t*e+n*r)&&(e-=t*s,r-=n*s),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,s/=u),t*r<n*e&&(t=-t,n=-n,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*sn,skewX:Math.atan(s)*sn,scaleX:a,scaleY:u}}function fn(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],s=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var s=a.push("translate(",null,n,null,e);u.push({i:s-4,x:en(t,i)},{i:s-2,x:en(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,u,s),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:en(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,a.rotate,u,s),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:en(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,a.skewX,u,s),function(t,n,e,r,o,a){if(t!==e||n!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:en(t,e)},{i:u-2,x:en(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,s),o=a=null,function(t){for(var n,e=-1,r=s.length;++e<r;)u[(n=s[e]).i]=n.x(t);return u.join("")}}}var hn,pn,_n=fn((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?ln:cn(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),dn=fn((function(t){return null==t?ln:(un||(un=document.createElementNS("http://www.w3.org/2000/svg","g")),un.setAttribute("transform",t),(t=un.transform.baseVal.consolidate())?cn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ln)}),", ",")",")"),Rn=0,Cn=0,yn=0,En=1e3,vn=0,gn=0,mn=0,Nn="object"==typeof performance&&performance.now?performance:Date,wn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Yn(){return gn||(wn(Un),gn=Nn.now()+mn)}function Un(){gn=0}function Tn(){this._call=this._time=this._next=null}function bn(t,n,e){var r=new Tn;return r.restart(t,n,e),r}function An(){gn=(vn=Nn.now())+mn,Rn=Cn=0;try{!function(){Yn(),++Rn;for(var t,n=hn;n;)(t=gn-n._time)>=0&&n._call.call(void 0,t),n=n._next;--Rn}()}finally{Rn=0,function(){var t,n,e=hn,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hn=n);pn=t,In(r)}(),gn=0}}function On(){var t=Nn.now(),n=t-vn;n>En&&(mn-=n,vn=t)}function In(t){Rn||(Cn&&(Cn=clearTimeout(Cn)),t-gn>24?(t<1/0&&(Cn=setTimeout(An,t-Nn.now()-mn)),yn&&(yn=clearInterval(yn))):(yn||(vn=Nn.now(),yn=setInterval(On,En)),Rn=1,wn(An)))}function xn(t,n,e){var r=new Tn;return n=null==n?0:+n,r.restart((e=>{r.stop(),t(e+n)}),n,e),r}Tn.prototype=bn.prototype={constructor:Tn,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?Yn():+e)+(null==n?0:+n),this._next||pn===this||(pn?pn._next=this:hn=this,pn=this),this._call=t,this._time=e,In()},stop:function(){this._call&&(this._call=null,this._time=1/0,In())}};var Dn=L("start","end","cancel","interrupt"),Mn=[],Sn=0,Ln=1,kn=2,Pn=3,Hn=4,$n=5,Bn=6;function Fn(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(t){e.state=Ln,e.timer.restart(a,e.delay,e.time),e.delay<=t&&a(t-e.delay)}function a(o){var l,c,f,h;if(e.state!==Ln)return s();for(l in i)if((h=i[l]).name===e.name){if(h.state===Pn)return xn(a);h.state===Hn?(h.state=Bn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[l]):+l<n&&(h.state=Bn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[l])}if(xn((function(){e.state===Pn&&(e.state=Hn,e.timer.restart(u,e.delay,e.time),u(o))})),e.state=kn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===kn){for(e.state=Pn,r=new Array(f=e.tween.length),l=0,c=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=h);r.length=c+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=$n,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);e.state===$n&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=Bn,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=bn(o,0,e.time)}(t,e,{name:n,index:r,group:i,on:Dn,tween:Mn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Sn})}function Kn(t,n){var e=qn(t,n);if(e.state>Sn)throw new Error("too late; already scheduled");return e}function Xn(t,n){var e=qn(t,n);if(e.state>Pn)throw new Error("too late; already running");return e}function qn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Gn(t,n){var e,r;return function(){var i=Xn(this,t),o=i.tween;if(o!==e)for(var a=0,u=(r=e=o).length;a<u;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}i.tween=r}}function jn(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Xn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:n,value:e},s=0,l=i.length;s<l;++s)if(i[s].name===n){i[s]=u;break}s===l&&i.push(u)}o.tween=i}}function Vn(t,n,e){var r=t._id;return t.each((function(){var t=Xn(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return qn(t,r).value[n]}}function Wn(t,n){var e;return("number"==typeof n?en:n instanceof E?nn:(e=E(n))?(n=e,nn):an)(t,n)}function Zn(t){return function(){this.removeAttribute(t)}}function zn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jn(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}}function Qn(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}function te(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttribute(t))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttribute(t)}}function ne(t,n,e){var r,i,o;return function(){var a,u,s=e(this);if(null!=s)return(a=this.getAttributeNS(t.space,t.local))===(u=s+"")?null:a===r&&u===i?o:(i=u,o=n(r=a,s));this.removeAttributeNS(t.space,t.local)}}function ee(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,i)),e}return i._value=n,i}function re(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,i)),e}return i._value=n,i}function ie(t,n){return function(){Kn(this,t).delay=+n.apply(this,arguments)}}function oe(t,n){return n=+n,function(){Kn(this,t).delay=n}}function ae(t,n){return function(){Xn(this,t).duration=+n.apply(this,arguments)}}function ue(t,n){return n=+n,function(){Xn(this,t).duration=n}}var se=zt.prototype.constructor;function le(t){return function(){this.style.removeProperty(t)}}var ce=0;function fe(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function he(){return++ce}var pe=zt.prototype;fe.prototype={constructor:fe,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=j(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,s,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=t.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,Fn(f[h],n,e,h,f,qn(u,e)));return new fe(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=W(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,p=t.call(s,s.__data__,f,l),_=qn(s,e),d=0,R=p.length;d<R;++d)(h=p[d])&&Fn(h,n,e,d,p,_);o.push(p),a.push(s)}return new fe(o,a,n,e)},selectChild:pe.selectChild,selectChildren:pe.selectChildren,filter:function(t){"function"!=typeof t&&(t=z(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new fe(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=n[u],c=e[u],f=l.length,h=a[u]=new Array(f),p=0;p<f;++p)(s=l[p]||c[p])&&(h[p]=s);for(;u<r;++u)a[u]=n[u];return new fe(a,this._parents,this._name,this._id)},selection:function(){return new se(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=he(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)if(a=u[l]){var c=qn(a,n);Fn(a,t,e,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fe(r,this._parents,t,e)},call:pe.call,nodes:pe.nodes,node:pe.node,size:pe.size,empty:pe.empty,each:pe.each,on:function(t,n){var e=this._id;return arguments.length<2?qn(this.node(),e).on.on(t):this.each(function(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Kn:Xn;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(n,e),a.on=i}}(e,t,n))},attr:function(t,n){var e=F(t),r="transform"===e?dn:Wn;return this.attrTween(t,"function"==typeof n?(e.local?ne:te)(e,r,Vn(this,"attr."+t,n)):null==n?(e.local?zn:Zn)(e):(e.local?Qn:Jn)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=F(t);return this.tween(e,(r.local?ee:re)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?_n:Wn;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=vt(this,t),a=(this.style.removeProperty(t),vt(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}(t,r)).on("end.style."+t,le(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var a=vt(this,t),u=e(this),s=u+"";return null==u&&(this.style.removeProperty(t),s=u=vt(this,t)),a===s?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}(t,r,Vn(this,"style."+t,n))).each(function(t,n){var e,r,i,o,a="style."+n,u="end."+a;return function(){var s=Xn(this,t),l=s.on,c=null==s.value[a]?o||(o=le(n)):void 0;l===e&&i===c||(r=(e=l).copy()).on(u,i=c),s.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var a=vt(this,t);return a===o?null:a===r?i:i=n(r=a,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}(t,o,e)),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Vn(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=qn(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Gn:jn)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ie:oe)(n,t)):qn(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?ae:ue)(n,t)):qn(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Xn(this,t).ease=n}}(n,t)):qn(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Xn(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,a){var u={value:a},s={value:function(){0==--i&&o()}};e.each((function(){var e=Xn(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(u),n._.interrupt.push(u),n._.end.push(s)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:pe[Symbol.iterator]};var _e={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function de(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Re(t,n,e){this.k=t,this.x=n,this.y=e}zt.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>kn&&e.state<$n,e.state=Bn,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},zt.prototype.transition=function(t){var n,e;t instanceof fe?(n=t._id,t=t._name):(n=he(),(e=_e).time=Yn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],s=u.length,l=0;l<s;++l)(a=u[l])&&Fn(a,t,n,l,u,e||de(a,n));return new fe(r,this._parents,t,n)},Re.prototype={constructor:Re,scale:function(t){return 1===t?this:new Re(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Re(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Re.prototype;var Ce="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ye={};!function(t){var n,e,r,i,o,a,u;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.ConceptType||(t.ConceptType={})).METRIC="METRIC",n.DIMENSION="DIMENSION",(t.MessageType||(t.MessageType={})).RENDER="RENDER",(e=t.FieldType||(t.FieldType={})).YEAR="YEAR",e.YEAR_QUARTER="YEAR_QUARTER",e.YEAR_MONTH="YEAR_MONTH",e.YEAR_WEEK="YEAR_WEEK",e.YEAR_MONTH_DAY="YEAR_MONTH_DAY",e.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",e.QUARTER="QUARTER",e.MONTH="MONTH",e.WEEK="WEEK",e.MONTH_DAY="MONTH_DAY",e.DAY_OF_WEEK="DAY_OF_WEEK",e.DAY="DAY",e.HOUR="HOUR",e.MINUTE="MINUTE",e.DURATION="DURATION",e.COUNTRY="COUNTRY",e.COUNTRY_CODE="COUNTRY_CODE",e.CONTINENT="CONTINENT",e.CONTINENT_CODE="CONTINENT_CODE",e.SUB_CONTINENT="SUB_CONTINENT",e.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",e.REGION="REGION",e.REGION_CODE="REGION_CODE",e.CITY="CITY",e.CITY_CODE="CITY_CODE",e.METRO_CODE="METRO_CODE",e.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",e.NUMBER="NUMBER",e.PERCENT="PERCENT",e.TEXT="TEXT",e.BOOLEAN="BOOLEAN",e.URL="URL",e.IMAGE="IMAGE",e.CURRENCY_AED="CURRENCY_AED",e.CURRENCY_ALL="CURRENCY_ALL",e.CURRENCY_ARS="CURRENCY_ARS",e.CURRENCY_AUD="CURRENCY_AUD",e.CURRENCY_BDT="CURRENCY_BDT",e.CURRENCY_BGN="CURRENCY_BGN",e.CURRENCY_BOB="CURRENCY_BOB",e.CURRENCY_BRL="CURRENCY_BRL",e.CURRENCY_CAD="CURRENCY_CAD",e.CURRENCY_CDF="CURRENCY_CDF",e.CURRENCY_CHF="CURRENCY_CHF",e.CURRENCY_CLP="CURRENCY_CLP",e.CURRENCY_CNY="CURRENCY_CNY",e.CURRENCY_COP="CURRENCY_COP",e.CURRENCY_CRC="CURRENCY_CRC",e.CURRENCY_CZK="CURRENCY_CZK",e.CURRENCY_DKK="CURRENCY_DKK",e.CURRENCY_DOP="CURRENCY_DOP",e.CURRENCY_EGP="CURRENCY_EGP",e.CURRENCY_ETB="CURRENCY_ETB",e.CURRENCY_EUR="CURRENCY_EUR",e.CURRENCY_GBP="CURRENCY_GBP",e.CURRENCY_HKD="CURRENCY_HKD",e.CURRENCY_HRK="CURRENCY_HRK",e.CURRENCY_HUF="CURRENCY_HUF",e.CURRENCY_IDR="CURRENCY_IDR",e.CURRENCY_ILS="CURRENCY_ILS",e.CURRENCY_INR="CURRENCY_INR",e.CURRENCY_IRR="CURRENCY_IRR",e.CURRENCY_ISK="CURRENCY_ISK",e.CURRENCY_JMD="CURRENCY_JMD",e.CURRENCY_JPY="CURRENCY_JPY",e.CURRENCY_KRW="CURRENCY_KRW",e.CURRENCY_LKR="CURRENCY_LKR",e.CURRENCY_LTL="CURRENCY_LTL",e.CURRENCY_MNT="CURRENCY_MNT",e.CURRENCY_MVR="CURRENCY_MVR",e.CURRENCY_MXN="CURRENCY_MXN",e.CURRENCY_MYR="CURRENCY_MYR",e.CURRENCY_NOK="CURRENCY_NOK",e.CURRENCY_NZD="CURRENCY_NZD",e.CURRENCY_PAB="CURRENCY_PAB",e.CURRENCY_PEN="CURRENCY_PEN",e.CURRENCY_PHP="CURRENCY_PHP",e.CURRENCY_PKR="CURRENCY_PKR",e.CURRENCY_PLN="CURRENCY_PLN",e.CURRENCY_RON="CURRENCY_RON",e.CURRENCY_RSD="CURRENCY_RSD",e.CURRENCY_RUB="CURRENCY_RUB",e.CURRENCY_SAR="CURRENCY_SAR",e.CURRENCY_SEK="CURRENCY_SEK",e.CURRENCY_SGD="CURRENCY_SGD",e.CURRENCY_THB="CURRENCY_THB",e.CURRENCY_TRY="CURRENCY_TRY",e.CURRENCY_TWD="CURRENCY_TWD",e.CURRENCY_TZS="CURRENCY_TZS",e.CURRENCY_UAH="CURRENCY_UAH",e.CURRENCY_USD="CURRENCY_USD",e.CURRENCY_UYU="CURRENCY_UYU",e.CURRENCY_VEF="CURRENCY_VEF",e.CURRENCY_VND="CURRENCY_VND",e.CURRENCY_YER="CURRENCY_YER",e.CURRENCY_ZAR="CURRENCY_ZAR",(r=t.TableType||(t.TableType={})).DEFAULT="DEFAULT",r.COMPARISON="COMPARISON",r.SUMMARY="SUMMARY",(i=t.DateRangeType||(t.DateRangeType={})).DEFAULT="DEFAULT",i.COMPARISON="COMPARISON",(o=t.ConfigDataElementType||(t.ConfigDataElementType={})).METRIC="METRIC",o.DIMENSION="DIMENSION",o.MAX_RESULTS="MAX_RESULTS",(a=t.ConfigStyleElementType||(t.ConfigStyleElementType={})).TEXTINPUT="TEXTINPUT",a.SELECT_SINGLE="SELECT_SINGLE",a.CHECKBOX="CHECKBOX",a.FONT_COLOR="FONT_COLOR",a.FONT_SIZE="FONT_SIZE",a.FONT_FAMILY="FONT_FAMILY",a.FILL_COLOR="FILL_COLOR",a.BORDER_COLOR="BORDER_COLOR",a.AXIS_COLOR="AXIS_COLOR",a.GRID_COLOR="GRID_COLOR",a.OPACITY="OPACITY",a.LINE_WEIGHT="LINE_WEIGHT",a.LINE_STYLE="LINE_STYLE",a.BORDER_RADIUS="BORDER_RADIUS",a.INTERVAL="INTERVAL",a.SELECT_RADIO="SELECT_RADIO",(t.DSInteractionType||(t.DSInteractionType={})).FILTER="FILTER",(u=t.ToDSMessageType||(t.ToDSMessageType={})).VIZ_READY="vizReady",u.INTERACTION="vizAction",(t.InteractionType||(t.InteractionType={})).FILTER="FILTER"}(ye),function(t){var n=Ce&&Ce.__assign||function(){return n=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});
/*!
  	  @license
  	  Copyright 2019 Google LLC

  	  Licensed under the Apache License, Version 2.0 (the "License");
  	  you may not use this file except in compliance with the License.
  	  You may obtain a copy of the License at

  	  https://www.apache.org/licenses/LICENSE-2.0

  	  Unless required by applicable law or agreed to in writing, software
  	  distributed under the License is distributed on an "AS IS" BASIS,
  	  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  	  See the License for the specific language governing permissions and
  	  limitations under the License.
  	*/
var e=ye;!function(n){for(var e in n)t.hasOwnProperty(e)||(t[e]=n[e])}(ye),t.getWidth=function(){return document.body.clientWidth},t.getHeight=function(){return document.documentElement.clientHeight},t.getComponentId=function(){var t=new URLSearchParams(window.location.search);if(null!==t.get("dscId"))return t.get("dscId");throw new Error("dscId must be in the query parameters. This is a bug in ds-component, please file a bug: https://github.com/googledatastudio/ds-component/issues/new")};var r=function(t){return t.type===e.ConfigDataElementType.DIMENSION||t.type===e.ConfigDataElementType.METRIC},i=function(t){return t===e.ConfigDataElementType.DIMENSION?-1:1},o=function(t){var n=[];t.config.data.forEach((function(t){t.elements.filter(r).forEach((function(t){n.push(t)}))}));var e,o=(e=function(t,n){return i(t.type)-i(n.type)},n.map((function(t,n){return{item:t,index:n}})).sort((function(t,n){return e(t.item,n.item)||t.index-n.index})).map((function(t){return t.item}))),a=[];return o.forEach((function(t){t.value.forEach((function(){return a.push(t.id)}))})),a},a=function(t){var n,r=o(t),i=((n={})[e.TableType.DEFAULT]=[],n);return t.dataResponse.tables.forEach((function(t){var n=t.rows.map(function(t){return function(n){var e,r,i={};return(e=n,r=t,e.length<r.length?e.map((function(t,n){return[t,r[n]]})):r.map((function(t,n){return[e[n],t]}))).forEach((function(t){var n=t[0],e=t[1];void 0===i[e]&&(i[e]=[]),i[e].push(n)}),{}),i}}(r));t.id===e.TableType.DEFAULT?i[t.id]=n:(void 0===i[t.id]&&(i[t.id]=[]),i[t.id]=i[t.id].concat(n))})),i},u=function(r){var i,a=t.fieldsByConfigId(r),u=o(r),s={},l=u.map((function(t){void 0===s[t]?s[t]=0:s[t]++;var e=s[t],r=a[t][e];return n(n({},r),{configId:t})})),c=((i={})[e.TableType.DEFAULT]={headers:[],rows:[]},i);return r.dataResponse.tables.forEach((function(t){c[t.id]={headers:l,rows:t.rows}})),c};t.fieldsByConfigId=function(t){var n=function(t){return t.fields.reduce((function(t,n){return t[n.id]=n,t}),{})}(t),e={};return t.config.data.forEach((function(t){t.elements.filter(r).forEach((function(t){e[t.id]=t.value.map((function(t){return n[t]}))}))})),e};var s=function(t){var n={};return(t.config.style||[]).forEach((function(t){t.elements.forEach((function(t){if(void 0!==n[t.id])throw new Error("styleIds must be unique. Your styleId: '"+t.id+"' is used more than once.");n[t.id]={value:t.value,defaultValue:t.defaultValue}}))}),{}),n},l=function(t){return t.config.themeStyle},c=function(t){if(t===e.DSInteractionType.FILTER)return e.InteractionType.FILTER},f=function(t){var n=t.config.interactions;return void 0===n?{}:n.reduce((function(t,n){var e=n.supportedActions.map(c),r={type:c(n.value.type),data:n.value.data};return t[n.id]={value:r,supportedActions:e},t}),{})},h=function(t){return(t.dataResponse.dateRanges||[]).reduce((function(t,n){return t[n.id]={start:n.start,end:n.end},t}),{})},p=function(t){var e=t.dataResponse.colorMap||{};return n({},e)};t.tableTransform=function(n){return{tables:u(n),dateRanges:h(n),fields:t.fieldsByConfigId(n),style:s(n),theme:l(n),interactions:f(n),colorMap:p(n)}},t.objectTransform=function(n){return{tables:a(n),dateRanges:h(n),fields:t.fieldsByConfigId(n),style:s(n),theme:l(n),interactions:f(n),colorMap:p(n)}};var _=function(n){var e=!1;return(n===t.tableTransform||n===t.objectTransform||function(t){var n=!1;return"identity"===t("identity")&&(n=!0,console.warn("This is an unsupported data format. Please use one of the supported transforms:\n       dscc.objectFormat or dscc.tableFormat.")),n}(n))&&(e=!0),e};t.subscribeToData=function(n,r){if(_(r.transform)){var i=function(t){t.data.type===e.MessageType.RENDER?n(r.transform(t.data)):console.error("MessageType: "+t.data.type+" is not supported by this version of the library.")};window.addEventListener("message",i);var o={componentId:t.getComponentId(),type:e.ToDSMessageType.VIZ_READY};return window.parent.postMessage(o,"*"),function(){return window.removeEventListener("message",i)}}throw new Error("Only the built in transform functions are supported.")},t.sendInteraction=function(n,r,i){var o=t.getComponentId(),a={type:e.ToDSMessageType.INTERACTION,id:n,data:i,componentId:o};window.parent.postMessage(a,"*")},t.clearInteraction=function(n,e){t.sendInteraction(n,e,void 0)}}({});const Ee=function(t){return"string"==typeof t?new Zt([[document.querySelector(t)]],[document.documentElement]):new Zt([[t]],Wt)}("body").append("svg").attr("width",600).attr("height",600);Ee.append("text").attr("x",150).attr("y",100).text("Hello D3").style("font-size","24px").style("fill","black");return Ee.append("circle").attr("cx",50).attr("cy",50).attr("r",20).style("fill","blue").transition().duration(2e3).attr("cx",450).style("fill","red"),t.LOCAL=!1,t}({});
